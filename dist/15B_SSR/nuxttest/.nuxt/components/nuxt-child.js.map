{"version":3,"sources":["../../../../../15B_SSR/nuxttest/.nuxt/components/nuxt-child.js"],"names":["name","functional","props","render","h","parent","data","nuxtChild","_parent","transitions","$nuxt","nuxt","defaultTransition","depth","$vnode","$parent","nuxtChildDepth","transition","transitionProps","transitionsKeys","forEach","key","listeners","listenersKeys","bind","beforeEnter","el","window","$emit","call","routerView","keepAlive","on"],"mappings":";;;;;kBAAe;AACbA,QAAM,YADO;AAEbC,cAAY,IAFC;AAGbC,SAAO,CAAC,WAAD,CAHM;AAIbC,QAJa,kBAILC,CAJK,QAIuB;AAAA,QAAvBC,MAAuB,QAAvBA,MAAuB;AAAA,QAAfC,IAAe,QAAfA,IAAe;AAAA,QAATJ,KAAS,QAATA,KAAS;;AAClCI,SAAKC,SAAL,GAAiB,IAAjB;AACA,QAAMC,UAAUH,MAAhB;AACA,QAAMI,cAAcJ,OAAOK,KAAP,CAAaC,IAAb,CAAkBF,WAAtC;AACA,QAAMG,oBAAoBP,OAAOK,KAAP,CAAaC,IAAb,CAAkBC,iBAA5C;;AAEA,QAAIC,QAAQ,CAAZ;AACA,WAAOR,MAAP,EAAe;AACb,UAAIA,OAAOS,MAAP,IAAiBT,OAAOS,MAAP,CAAcR,IAAd,CAAmBC,SAAxC,EAAmD;AACjDM;AACD;AACDR,eAASA,OAAOU,OAAhB;AACD;AACDT,SAAKU,cAAL,GAAsBH,KAAtB;AACA,QAAMI,aAAaR,YAAYI,KAAZ,KAAsBD,iBAAzC;AACA,QAAIM,kBAAkB,EAAtB;AACAC,oBAAgBC,OAAhB,CAAwB,UAACC,GAAD,EAAS;AAC/B,UAAI,OAAOJ,WAAWI,GAAX,CAAP,KAA2B,WAA/B,EAA4C;AAC1CH,wBAAgBG,GAAhB,IAAuBJ,WAAWI,GAAX,CAAvB;AACD;AACF,KAJD;AAKA,QAAIC,YAAY,EAAhB;AACAC,kBAAcH,OAAd,CAAsB,UAACC,GAAD,EAAS;AAC7B,UAAI,OAAOJ,WAAWI,GAAX,CAAP,KAA2B,UAA/B,EAA2C;AACzCC,kBAAUD,GAAV,IAAiBJ,WAAWI,GAAX,EAAgBG,IAAhB,CAAqBhB,OAArB,CAAjB;AACD;AACF,KAJD;AAKA;AACA,QAAIiB,cAAcH,UAAUG,WAA5B;AACAH,cAAUG,WAAV,GAAwB,UAACC,EAAD,EAAQ;AAC9BC,aAAOjB,KAAP,CAAakB,KAAb,CAAmB,eAAnB;AACA,UAAIH,WAAJ,EAAiB,OAAOA,YAAYI,IAAZ,CAAiBrB,OAAjB,EAA0BkB,EAA1B,CAAP;AAClB,KAHD;;AAKA,QAAII,aAAa,CACf1B,EAAE,aAAF,EAAiBE,IAAjB,CADe,CAAjB;AAGA,QAAI,OAAOJ,MAAM6B,SAAb,KAA2B,WAA/B,EAA4C;AAC1CD,mBAAa,CACX1B,EAAE,YAAF,EAAgB0B,UAAhB,CADW,CAAb;AAGD;AACD,WAAO1B,EAAE,YAAF,EAAgB;AACrBF,aAAOgB,eADc;AAErBc,UAAIV;AAFiB,KAAhB,EAGJQ,UAHI,CAAP;AAID;AAlDY,C;;;AAqDf,IAAMX,kBAAkB,CACtB,MADsB,EAEtB,MAFsB,EAGtB,QAHsB,EAItB,KAJsB,EAKtB,MALsB,EAMtB,UANsB,EAOtB,YAPsB,EAQtB,YARsB,EAStB,aATsB,EAUtB,kBAVsB,EAWtB,kBAXsB,EAYtB,kBAZsB,EAatB,mBAbsB,EActB,cAdsB,EAetB,cAfsB,EAgBtB,eAhBsB,CAAxB;;AAmBA,IAAMI,gBAAgB,CACpB,aADoB,EAEpB,OAFoB,EAGpB,YAHoB,EAIpB,gBAJoB,EAKpB,aALoB,EAMpB,OANoB,EAOpB,YAPoB,EAQpB,gBARoB,EASpB,cAToB,EAUpB,QAVoB,EAWpB,aAXoB,EAYpB,iBAZoB,CAAtB","file":"nuxt-child.js","sourcesContent":["export default {\n  name: 'nuxt-child',\n  functional: true,\n  props: ['keepAlive'],\n  render (h, { parent, data, props }) {\n    data.nuxtChild = true\n    const _parent = parent\n    const transitions = parent.$nuxt.nuxt.transitions\n    const defaultTransition = parent.$nuxt.nuxt.defaultTransition\n\n    let depth = 0\n    while (parent) {\n      if (parent.$vnode && parent.$vnode.data.nuxtChild) {\n        depth++\n      }\n      parent = parent.$parent\n    }\n    data.nuxtChildDepth = depth\n    const transition = transitions[depth] || defaultTransition\n    let transitionProps = {}\n    transitionsKeys.forEach((key) => {\n      if (typeof transition[key] !== 'undefined') {\n        transitionProps[key] = transition[key]\n      }\n    })\n    let listeners = {}\n    listenersKeys.forEach((key) => {\n      if (typeof transition[key] === 'function') {\n        listeners[key] = transition[key].bind(_parent)\n      }\n    })\n    // Add triggerScroll event on beforeEnter (fix #1376)\n    let beforeEnter = listeners.beforeEnter\n    listeners.beforeEnter = (el) => {\n      window.$nuxt.$emit('triggerScroll')\n      if (beforeEnter) return beforeEnter.call(_parent, el)\n    }\n\n    let routerView = [\n      h('router-view', data)\n    ]\n    if (typeof props.keepAlive !== 'undefined') {\n      routerView = [\n        h('keep-alive', routerView)\n      ]\n    }\n    return h('transition', {\n      props: transitionProps,\n      on: listeners\n    }, routerView)\n  }\n}\n\nconst transitionsKeys = [\n  'name',\n  'mode',\n  'appear',\n  'css',\n  'type',\n  'duration',\n  'enterClass',\n  'leaveClass',\n  'appearClass',\n  'enterActiveClass',\n  'enterActiveClass',\n  'leaveActiveClass',\n  'appearActiveClass',\n  'enterToClass',\n  'leaveToClass',\n  'appearToClass'\n]\n\nconst listenersKeys = [\n  'beforeEnter',\n  'enter',\n  'afterEnter',\n  'enterCancelled',\n  'beforeLeave',\n  'leave',\n  'afterLeave',\n  'leaveCancelled',\n  'beforeAppear',\n  'appear',\n  'afterAppear',\n  'appearCancelled'\n]\n"]}